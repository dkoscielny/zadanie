function Order(){var t,e,a,o,r,n,d,i,l,c=this;c.calculateOrder=function(){t=$("#newOrder__productName").val(),e=parseFloat($("#newOrder__costPerItem").val()).toFixed(2),a=$("#newOrder__quantity").val(),o=(a*e).toFixed(2),r=(a*e*77/100).toFixed(2),$("#newOrder__summary-modal").modal("show"),$(".summary__counting").show();$.when($.get("http://api.nbp.pl/api/exchangerates/rates/A/EUR/",function(t){d=t.rates[0].mid}).then(function(){i=(r/d).toFixed(2)},function(){i="Nie można pobrać aktualnego kursu."}),$.get("http://api.nbp.pl/api/exchangerates/rates/A/USD/",function(t){n=t.rates[0].mid}).then(function(){l=(r/n).toFixed(2)},function(){l="Nie można pobrać aktualnego kursu."})).always(function(){$(".summary__counting").hide(),$(".summary__data").fadeIn("slow"),function(t,e,a,o,r,n,d){for(var i=$(".summary__data"),l=0;l<arguments.length;l++)i.find("div:nth-of-type("+(l+1)+") > span:nth-of-type(2)").text(arguments[l])}(t,a,e,o,r,i,l)})},c.addToTheBasket=function(){$tbody=$(".basket__table > tbody"),$tr=$("<tr></tr>");for(var n=0,d=[t,a,e,o,r,i,l];n<d.length;n++)$td=$("<td>"+d[n]+"</td>"),$tr.append($td);$tr.append('<td class="basket__deleteItem"><i class="fa fa-trash" aria-hidden="true"></i></td>'),$tr.hide(),$tbody.append($tr),$tr.fadeIn("slow")},c.checkIfShowTableFooter=function(){0==$(".basket__table tbody").children().length&&$(".basket__table tfoot").show("slow")},c.checkIfHideTableFooter=function(){1==$(".basket__table tbody").children().length&&$(".basket__table tfoot").hide("slow")},c.calculateTotalSum=function(){for(var t=4;t<=7;t++){var e=0;$(".basket__table tbody td:nth-of-type("+t+")").each(function(){e+=parseFloat($(this).text())}),$(".basket__table tfoot td:nth-of-type("+(t-2)+")").text(e.toFixed(2))}}}var order=new Order;$(document).ready(function(){$("#newOrder__form").on("submit",function(t){t.preventDefault(),order.calculateOrder()}),$(".summary__btn-toBasket").on("click",function(){order.checkIfShowTableFooter(),order.addToTheBasket();$("#newOrder__form").trigger("reset"),$("#newOrder__summary-modal").modal("hide"),order.calculateTotalSum()}),$(".basket__table").on("click",".basket__deleteItem",function(){$row=$(this).parent(),$row.hide("slow",function(){$row.remove(),order.calculateTotalSum()}),order.checkIfHideTableFooter()})});
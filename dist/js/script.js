!function(){var t,e,a,n,o,r,d,i,s,_=function(){t=$("#newOrder__productName").val(),e=parseFloat($("#newOrder__costPerItem").val()).toFixed(2),a=$("#newOrder__quantity").val(),n=(a*e).toFixed(2),o=(a*e*77/100).toFixed(2),$("#newOrder__summary-modal").modal("show"),$(".summary__counting").show();$.when($.get("http://api.nbp.pl/api/exchangerates/rates/A/EUR/",function(t){d=t.rates[0].mid}).then(function(){i=(o/d).toFixed(2)},function(){i="Nie można pobrać aktualnego kursu."}),$.get("http://api.nbp.pl/api/exchangerates/rates/A/USD/",function(t){r=t.rates[0].mid}).then(function(){s=(o/r).toFixed(2)},function(){s="Nie można pobrać aktualnego kursu."})).always(function(){$(".summary__counting").hide(),$(".summary__data").fadeIn("slow"),function(t,e,a,n,o,r,d){for(var i=$(".summary__data"),s=0;s<arguments.length;s++)i.find("div:nth-of-type("+(s+1)+") > span:nth-of-type(2)").text(arguments[s])}(t,a,e,n,o,i,s)})},l=function(){for(var t=4;t<=7;t++){var e=0;$(".basket__table tbody td:nth-of-type("+t+")").each(function(){e+=parseFloat($(this).text())}),$(".basket__table tfoot td:nth-of-type("+(t-2)+")").text(e.toFixed(2))}};$(document).ready(function(){$("#newOrder__form").on("submit",function(t){t.preventDefault(),_()}),$(".summary__btn-toBasket").on("click",function(){0==$(".basket__table tbody").children().length&&$(".basket__table tfoot").show("slow"),function(){for(var r=$(".basket__table > tbody"),d=$("<tr></tr>"),_=0,l=[t,a,e,n,o,i,s];_<l.length;_++)$td=$("<td>"+l[_]+"</td>"),d.append($td);d.append('<td class="basket__deleteItem"><i class="fa fa-trash" aria-hidden="true"></i></td>'),d.hide(),r.append(d),d.fadeIn("slow")}();$("#newOrder__form").trigger("reset"),$("#newOrder__summary-modal").modal("hide"),l()}),$(".basket__table").on("click",".basket__deleteItem",function(){var t=$(this).parent();t.hide("slow",function(){t.remove(),l()}),1==$(".basket__table tbody").children().length&&$(".basket__table tfoot").hide("slow")})})}();